@if (workflowInfo && badges[workflowInfo.conclusion]) {
  <img
    class="badge-image"
    [ngSrc]="badges[workflowInfo.conclusion].src"
    [alt]="badges[workflowInfo.conclusion].alt"
    width="72"
    height="50"
    (click)="onBadgeClick(repository.repoName, workflowType, mode)" />
  <span class="built-date text-muted px-2 align-middle">
    {{ workflowInfo.lastBuilt | date: 'short' }}
  </span>
}

@if (mode === REPORT) {
  @for (build of repository.testResults; track build.workflow) {
    @if (
      build.workflow === workflowInfo?.workflowType &&
      !(build.results | isEmptyObjectPipe)
    ) {
      <div class="sub-status align-middle">
        @for (
          testStatus of build.results | buildStatusEntries;
          track testStatus.label
        ) {
          <span
            class="test-details fs-5"
            [lang]="languageService.selectedLanguage()">
            {{ testStatus.label | translate }}:
            <b>{{ testStatus.count }}</b>
            {{ testStatus.icon }}
          </span>
        }
      </div>
    }
  }

    @if (hasAnyTestResults() && !hasWorkflowTestResults()) {
    <div class="sub-status align-middle empty-test-row">
      <span class="test-details fs-5">&nbsp;</span>
    </div>
  }

  <div class="sub-status align-middle" [lang]="languageService.selectedLanguage()">
  @if (workflowInfo?.currentWorkflowState) {
    @let display = getWorkflowDisplay(workflowInfo?.currentWorkflowState || '');
    <span class="test-details fs-5 d-inline-flex align-items-center" [attr.title]="display.tooltip">
      {{ 'common.monitor.workflow.label' | translate }}:
      {{ display.label }}
      <span
        class="workflow-icon ms-1">
        {{ display.icon }}
      </span>
      @if (workflowInfo?.disabledDate) {
        <span class="text-muted built-date">
          {{ workflowInfo?.disabledDate | date: 'short' }}
        </span>
      }
    </span>
  }
</div>
}