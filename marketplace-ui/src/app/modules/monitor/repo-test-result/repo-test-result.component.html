<!-- build-column.component.html -->
<td class="text-center">
  @if (conclusion === 'success') {
    <img src="/assets/images/misc/pass-badge.svg" width="72" height="72" alt="Pass badge" />
    <span class="text-primary p-2">{{ lastUpdated | date: 'short' }}</span>
  } @else if (conclusion === 'failure') {
    <img src="/assets/images/misc/fail-badge.svg" width="72" height="72" alt="Fail badge" />
    <span class="text-primary p-2">{{ lastUpdated | date: 'short' }}</span>
  } @else {
    <span class="text-primary">-</span>
  }

  <!-- Pass/Fail stats -->
  @for (build of testResults; track build.workflow) {
    @if (build.workflow === workflow) {
      <div class="sub-status">
        @if (!(build.results | isEmptyObjectPipe)) {
          @for (testStatus of build.results | buildStatusEntries; track testStatus.label) {
            <span class="fs-5" [lang]="languageService.selectedLanguage()">
              {{ testStatus.label | translate }}: <b>{{ testStatus.count }}</b> {{ testStatus.icon }}
            </span>
          }
        } @else {
          <br>
        }
      </div>
    }
  }
</td>
